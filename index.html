<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vero o Bot? Toolkit Docente</title>
  <style>
    :root{
      --bg:#f7f7fb; --panel:#ffffff; --muted:#475569; --text:#0f1720;
      --accent:#0ea5e9; --accent-2:#7c3aed; --danger:#e11d48; --ok:#16a34a;
      --warn:#f59e0b; --card:#ffffff; --chip:#f3f4f6; --border:#e6e6ef;
    }
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#f7f7fb 0%,#ffffff 100%);color:var(--text);font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial}
    header{position:sticky;top:0;z-index:20;background:rgba(255,255,255,.9);backdrop-filter:blur(8px);border-bottom:1px solid var(--border)}
    .wrap{max-width:1100px;margin:0 auto;padding:18px}
    h1{margin:0;font-weight:800;letter-spacing:.2px;font-size:22px}
    .sub{color:var(--muted);font-size:13px}
    main{max-width:1100px;margin:18px auto;padding:0 18px 80px}
    .tabs{display:flex;gap:10px;margin-bottom:16px}
    .tab{padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:600;background:#fff;border:1px solid var(--border)}
    .tab.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border:none}
    .section{display:none}
    .section.active{display:block}
    .grid{display:grid;gap:14px}
    .cols-2{grid-template-columns:1fr 1fr}
    .card{background:var(--card);border:1px solid var(--border);border-radius:18px;padding:16px}
    .card h3{margin:0 0 10px 0;font-size:16px}
    textarea,input[type=text],input[type=number],select{width:100%;background:#fff;color:var(--text);border:1px solid var(--border);border-radius:12px;padding:12px;outline:none}
    textarea{min-height:160px;resize:vertical}
    .row{display:flex;gap:8px;flex-wrap:wrap}
    .btn{appearance:none;border:1px solid var(--border);background:#fff;color:var(--text);padding:10px 14px;border-radius:10px;cursor:pointer;font-weight:600}
    .btn:hover{border-color:#cbd5e1}
    .btn.primary{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:#fff;border:none}
    .pill{background:var(--chip);border:1px solid var(--border);padding:6px 10px;border-radius:999px;font-size:12px;color:#334155}
    .imgPreview{max-height:140px;border:1px solid var(--border);border-radius:10px;display:none}
    label.inline{display:flex;align-items:center;gap:6px;font-size:12px;color:#334155}
    .footer{color:var(--muted);font-size:12px;margin-top:24px;text-align:center}
    .sub-list{list-style-type:none; padding-left: 20px;}
    .sub-list li { margin-bottom: 5px; }
    .note{font-size:12px;color:var(--muted);border-left:2px solid var(--warn);padding-left:10px;margin-top:10px;}
  </style>
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5.0.1/dist/tesseract.min.js"></script>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="row" style="justify-content:space-between;align-items:center">
        <div>
          <h1>Vero o Bot? Toolkit Docente</h1>
          <div class="sub">Strumento di analisi per insegnanti dell'IIS MENDEL di Villa Cortese (MI)</div>
        </div>
        <div class="row">
          <button class="btn ghost" id="exportReport">‚¨áÔ∏è Report</button>
        </div>
      </div>
    </div>
  </header>

  <main>
    <div class="tabs">
      <div class="tab active" data-tab="analisi">Analisi Testi</div>
      <div class="tab" data-tab="profili">Profili Studenti (Opzionale)</div>
      <div class="tab" data-tab="strumenti">Strumenti Esterni</div>
      <div class="tab" data-tab="metodi">Metodi di Verifica</div>
    </div>

    <section id="analisi" class="section active">
      <div class="card">
        <h3>Incolla il compito o carica una foto</h3>
        <textarea id="inputText" placeholder="Incolla qui il testo da analizzare‚Ä¶"></textarea>
        <div class="row" style="margin-top:8px">
          <input type="file" id="fileInput" accept=".txt,.md" />
          <input type="file" id="imgInput" accept="image/*" capture="environment" />
          <button class="btn" id="runOcr">üßæ Estrai testo (OCR)</button>
          <label class="inline"><input type="checkbox" id="ocrReplace" /> Sostituisci invece di aggiungere</label>
          <button class="btn primary" id="analyzeBtn">Analizza</button>
        </div>
        <div class="row" style="margin-top:6px">
          <img id="imgPreview" class="imgPreview" alt="Anteprima immagine" />
        </div>
        <div class="row" style="margin-top:8px">
          <span class="pill" id="wc">0 parole</span>
          <span class="pill" id="sc">0 frasi</span>
          <span class="pill" id="cc">0 caratteri</span>
        </div>
      </div>

      <div class="card" style="margin-top: 14px;">
        <h3>Guida all'OCR (Estrazione Testo da Immagine)</h3>
        <p class="sub">La funzionalit√† OCR ti permette di analizzare compiti scritti a mano o da scansioni. Per ottenere i risultati migliori, segui questi semplici consigli:</p>
        <ul class="sub-list">
          <li>**Qualit√† dell'immagine:** Assicurati che la foto sia ben illuminata e a fuoco. Evita ombre o riflessi che possano confondere l'algoritmo.</li>
          <li>**Inquadratura:** L'immagine deve essere il pi√π possibile "dritta" e perpendicolare alla pagina. L'OCR funziona meglio con testi allineati orizzontalmente.</li>
          <li>**Scrittura chiara:** La qualit√† della scrittura √® fondamentale. Una grafia illeggibile o molto stilizzata pu√≤ generare errori.</li>
          <li>**App per scansione:** Per risultati professionali, considera l'uso di app per smartphone come **Google Drive** o **Microsoft Office Lens**, che ottimizzano l'immagine prima dell'estrazione.</li>
        </ul>
      </div>
    </section>

    <section id="profili" class="section">
      <div class="card">
        <h3>Profilo stile dello studente (facoltativo)</h3>
        <div class="row">
          <input id="studentName" type="text" placeholder="Nome studente (opzionale)" />
          <button class="btn" id="saveProfile">üíæ Salva profilo</button>
          <button class="btn" id="deleteProfile">üóëÔ∏è Elimina</button>
        </div>
        <textarea id="profileSample" placeholder="Incolla qui campioni autentici dello studente, se disponibili"></textarea>
        <div class="row" style="margin-top:8px">
          <input type="file" id="profileFiles" accept=".txt,.md" multiple />
          <button class="btn" id="addSample">‚ûï Aggiungi campione</button>
          <button class="btn" id="buildFingerprint">üß¨ Calcola impronta stilistica</button>
        </div>
        <div class="tiny" id="profileStats"></div>
      </div>
    </section>

    <section id="strumenti" class="section">
      <div class="card">
        <h3>Strumenti esterni gratuiti</h3>
        <ul>
          <li>
            <a href="https://gptzero.me/" target="_blank">GPTZero</a>
            <div class="sub">Noto per la sua interfaccia semplice e la capacit√† di analizzare sia singoli testi che file interi.</div>
          </li>
          <li>
            <a href="https://sapling.ai/ai-detector" target="_blank">Sapling AI Detector</a>
            <div class="sub">Offre anche un'estensione per browser per un controllo rapido.</div>
          </li>
          <li>
            <a href="https://www.crossplag.com/ai-content-detector/" target="_blank">Crossplag AI Detector</a>
            <div class="sub">Rilevatore che analizza anche la struttura e la coerenza del testo.</div>
          </li>
          <li>
            <a href="https://www.zerogpt.com/" target="_blank">ZeroGPT</a>
            <div class="sub">Strumento popolare che fornisce una percentuale di probabilit√† di testo generato da AI.</div>
          </li>
          <li>
            <a href="https://www.quetext.com/" target="_blank">Quetext</a>
            <div class="sub">Combina il rilevamento di plagio con l'analisi di stile, utile per identificare testi non originali.</div>
          </li>
          <li>
            <a href="https://plagly.com/" target="_blank">Plagly</a>
            <div class="sub">Specifico per il rilevamento del plagio, utile per confrontare il testo con fonti online.</div>
          </li>
          <li>
            <a href="https://copyleaks.com/ai-content-detector" target="_blank">Copyleaks AI Detector</a>
            <div class="sub">Rilevatore molto preciso, offre anche una funzione di confronto tra documenti.</div>
          </li>
          <li>
            <a href="https://writer.com/ai-content-detector/" target="_blank">Writer AI Detector</a>
            <div class="sub">Molto usato anche per ottimizzare i contenuti per il web, con una funzione di rilevamento integrata.</div>
          </li>
        </ul>
        <div class="note">
          ‚ö†Ô∏è **Nota importante:** Tutti gli strumenti di rilevamento di testo generato da AI non sono infallibili e possono generare falsi positivi o negativi. Usali come uno strumento di supporto, non come unica prova.
        </div>
      </div>
    </section>

    <section id="metodi" class="section">
      <div class="card">
        <h3>Metodi di verifica</h3>
        <p>Esempi di strategie per verificare se un compito √® autentico, applicabili a diverse discipline:</p>
        
        <h4>Verifica Orale</h4>
        <ul class="sub-list">
          <li>Domande orali flash su contenuti del compito</li>
          <li>Brevi colloqui di conferma subito dopo la consegna</li>
        </ul>
        
        <h4>Verifica di Autenticit√† del Contenuto</h4>
        <ul class="sub-list">
          <li>Richiesta di riferimenti a esperienze personali di laboratorio/azienda</li>
          <li>Inserimento di errori o dati anomali da discutere</li>
          <li>Compiti con raccolta di dati reali (foto con metadati, grafici, misurazioni)</li>
        </ul>
        
        <h4>Verifica Scritta e Operativa</h4>
        <ul class="sub-list">
          <li>Verifiche a tempo con domande a risposta breve</li>
          <li>Richiesta di risolvere lo stesso problema con due metodi diversi</li>
          <li>Produzione di mappe concettuali disegnate a mano</li>
        </ul>

        <h4>Verifica Comparativa</h4>
        <ul class="sub-list">
          <li>Confronto scritto/orale dei contenuti</li>
          <li>Commento di errori presenti o possibili alternative</li>
        </ul>
      </div>
    </section>

    <div class="footer">
      IIS Mendel - Via Ferrazzi 15 20035 Villa Cortese (MI) - Progetto "Buone pratiche" PNRR "Scuola Futura" - Sviluppato dal Team Buone Pratiche IIS MENDEL
    </div>
  </main>

  <script>
  // Tabs switch
  document.querySelectorAll('.tab').forEach(tab => {
    tab.addEventListener('click', ()=>{
      document.querySelectorAll('.tab').forEach(t=>t.classList.remove('active'));
      document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
      tab.classList.add('active');
      document.getElementById(tab.dataset.tab).classList.add('active');
    });
  });

  // OCR da immagine con Tesseract.js
  document.getElementById('imgInput').addEventListener('change', e=>{
    const f = e.target.files[0]; if(!f) return;
    const url = URL.createObjectURL(f);
    const img = document.getElementById('imgPreview');
    img.style.display='block';
    img.src = url;
    img.onload = ()=> URL.revokeObjectURL(url);
  });

  document.getElementById('runOcr').onclick = async ()=>{
    try{
      const f = document.getElementById('imgInput').files[0];
      if(!f){ alert('Seleziona una foto o scansione.'); return; }
      const { data } = await Tesseract.recognize(f, 'ita+eng+equ', {
        logger: m => console.log(m)
      });
      const text = (data && data.text) ? data.text.trim() : '';
      if(!text){ alert('Nessun testo riconosciuto.'); return; }
      const replace = document.getElementById('ocrReplace').checked;
      const area = document.getElementById('inputText');
      area.value = replace ? text : (area.value ? (area.value + '\n\n' + text) : text);
      alert('OCR completato. Testo estratto.');
    } catch(err){
      console.error(err);
      alert('Errore OCR: ' + err.message);
    }
  };
  </script>
</body>
</html>
